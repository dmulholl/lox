(*
            -------------------
            Operator Precedence
            -------------------

Name            Operators           Associates

Unary           ! -                 Right
*Bitwise        & |                 Left
Multiplication  / *                 Left
Addition        - +                 Left
Comparison      > >= < <=           Left
Equality        == !=               Left
*Ternary        ?:                  None

*)


(* Statements *)

program = declaration* EOF ;

declaration = var_declaration | statement ;

var_declaration = "var" IDENTIFIER ( "=" expression )? ";" ;

statement = expr_stmt | print_stmt ;

expr_stmt = expression ";" ;

print_stmt = "print" expression ";" ;


(* Expressions *)

expression = assignment ;

assignment = IDENTIFIER "=" assignment | equality ;

equality = comparison ( ( "!=" | "==" ) comparison )* ;

comparison = addition ( ( ">" | ">=" | "<" | "<+" ) addition )* ;

addition = multiplication ( ( "-" | "+" ) multiplication )* ;

multiplication = unary ( ( "/" | "*" ) unary )* ;

unary = ( "!" | "-" ) unary | primary ;

primary = "true" | "false" | "nil" | "this"
        | NUMBER | STRING
        | "(" expression ")"
        | IDENTIFIER ;
